<html>
<body>

This package implements the SuperC parsing engine for parsing all of C.

<h3>Using SuperC</h3>

Here is the simplest way to run SuperC

<pre>
java xtc.lang.cpp.SuperC file.c
</pre>

making sure that the classes for xtc and JavaBDD are in
the <tt>CLASSPATH</tt> environment variable.

<pre>
CLASSPATH=$CLASSPATH:$JAVA_DEV_ROOT/classes:$JAVA_DEV_ROOT/bin/javabdd.jar
</pre>

Without any command-line arguments, SuperC will lex, preprocess, and
parse <tt>file.c</tt>, but will not output anything. To print the
parsed AST, use the flag <tt>-printAST</tt>.

<pre>
java xtc.lang.cpp.SuperC -printAST file.c
</pre>

To only lex and preprocess, use the flag <tt>-E</tt>. This will
preprocess <tt>file.c</tt> preserving all conditionals as preprocessor
directives.

<h3>Parsing Linux Files</h3>

Parsing Linux source files requires setting up include paths for
architecture- and compiler-specific headers. SuperC takes some of the
same flags that gcc does, such as <tt>-I</tt>. The SuperC distribution
contains a shell script that sets up these includes already. The
script is contained in

<pre>
src/xtc/lang/cpp/SuperC.sh
</pre>

It depends on environment variables that specify the location of these
headers. The SuperC distribution also comes with a script to set up
these environment variables.

<pre>
src/xtc/lang/cpp/scripts/env.sh
</pre>

Users should adjust the following environment variables as needed.
<br>
<br>
<tt>JAVA_DEV_ROOT</tt>
is the root of the xtc distribution.
<br>
<tt>CPPDEV</tt>
is a directory containing the Linux source distribution(s).
<br>
<tt>LINUXVER</tt>
is the version of the Linux kernel to test with.
<tt>LINUXDIR</tt>
is the location of the Linux kernel source. It defaults to
<tt>$CPPDEV/$LINUXVER</tt>.
<br>
<tt>GCCINCLUDEDIR</tt>
is the location of compiler headers. The xtc distribution comes with a
set of compiler headers, and the script uses these by default.
<br>
<br>

The rest of the environment should not need adjusting. It sets up memory parameters for the JVM and where to find classes. It also adds SuperC helper scripts to the search path. These scripts download linux automatically, gather statistics, and more. Some particularly useful ones are
<br>
<br>
<tt>getlinux.sh</tt>
will download the Linux source according to the
environment variable LINUXVER.
<br>
<tt>preprocesslinux.sh</tt>
will configure and
preprocess the x86 Linux kernel. To find the configuration variable
setting it compiles the kernel, which can take a long time.
<br>
<tt>coarsestats.sh</tt>
will report some overall preprocessor usage stats from
the x86 Linux kernel source. It should be run from the Linux source
directory. i.e. <tt>LINUXDIR</tt>.
<br>

</body>
</html>
